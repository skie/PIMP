class ToggleBetweenViewAndJs < PMIPAction  def run(event, context)    from = context.editor_filepath    to = toggle_to(from)    return if to.nil?    elements = Elements.new.find_file(to)    if elements.size == 1      Navigator.new.open(elements.first)    else	  Balloon.new.info("could not find file: #{to.to_s}")    end    result("#{from.to_s} -> #{to.to_s}")  end  def toggle_to(from)	app = APPROOT	puts from.to_s		    case from.extension.downcase      when 'ctp'		from.to_s =~ /(.*\/)(views\/.*\/)(\w+)\.ctp/		init_root = $1		view_path = $2		file_name = $3        from.replace(from.to_s, "#{init_root}webroot/js/#{view_path}#{file_name}.js")      when 'js'		from.to_s =~ /(.*\/)(webroot\/js\/)(views\/.*\/)(\w+)\.js/		init_root = $1		view_path = $3		file_name = $4		        from.replace(from.to_s, "#{init_root}#{view_path}#{file_name}.ctp")    end  endend