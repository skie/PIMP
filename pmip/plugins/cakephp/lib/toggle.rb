class ToggleBetweenClassAndTest < PMIPAction  def run(event, context)    from = context.editor_filepath    to = toggle_to(from)    return if to.nil?    elements = Elements.new.find_file(to)    if elements.size == 1      Navigator.new.open(elements.first)    else      if Dialogs.new.yes_no('Test not found', 'Would you like to create a test for this class?' + from.to_s + ' ' + to.to_s)        to.write_lines([])        Refresh.file_system { Navigator.new.open(Elements.new.find_file(to).first) }      end    end    result("#{from.to_s} -> #{to.to_s}")  end  def toggle_to(from)	app = 'pfp'    case from.extension.downcase      when 'php'        from.ends?('.test.php') ? from.replace('.test.php', '.php').replace('/' + app + '/tests/cases/', '/' + app + '/') :                from.replace('.php', '.test.php').replace('/' + app + '/', '/' + app + '/tests/cases/')    end  endendbind 'ctrl alt shift T', ToggleBetweenClassAndTest.new